CREATE TABLE account (
    id                 BIGSERIAL                                                NOT NULL PRIMARY KEY,
    uu_row_id          UUID        DEFAULT uuid_generate_v1()                   NOT NULL,
    time_created       TIMESTAMPTZ DEFAULT clock_timestamp()                    NOT NULL,
    time_updated       TIMESTAMPTZ DEFAULT clock_timestamp()                    NOT NULL,
    company_id BIGINT REFERENCES company(id)                                    NOT NULL,
    number  INTEGER CHECK( number > 0 )                                         NOT NULL,
    description varchar(30) CHECK ( char_length(trim(description)) > 1)         NOT NULL,
    type varchar(1) CHECK
       (type = 'A' or
        type = 'L' or
        type = 'C' or
        type = 'R' or
        type = 'E'
        )                                                                       NOT NULL,
    normal_account_balance varchar(1) CHECK (normal_account_balance = 'C' or normal_account_balance = 'D') NOT NULL,
    status varchar(1) CHECK (status = 'A' or status = 'I')                      NOT NULL,
    budget_amount_1 numeric(15,2),
    budget_amount_2 numeric(15,2),
    budget_amount_3 numeric(15,2),
    budget_amount_4 numeric(15,2),
    budget_amount_5 numeric(15,2),
    budget_amount_6 numeric(15,2),
    budget_amount_7 numeric(15,2),
    budget_amount_8 numeric(15,2),
    budget_amount_9 numeric(15,2),
    budget_amount_10 numeric(15,2),
    budget_amount_11 numeric(15,2),
    budget_amount_12 numeric(15,2),
    budget_amount_13 numeric(15,2),
    comparative_amt_1 numeric(15,2),
    comparative_amt_2 numeric(15,2),
    comparative_amt_3 numeric(15,2),
    comparative_amt_4 numeric(15,2),
    comparative_amt_5 numeric(15,2),
    comparative_amt_6 numeric(15,2),
    comparative_amt_7 numeric(15,2),
    comparative_amt_8 numeric(15,2),
    comparative_amt_9 numeric(15,2),
    comparative_amt_10 numeric(15,2),
    comparative_amt_11 numeric(15,2),
    comparative_amt_12 numeric(15,2),
    comparative_amt_13 numeric(15,2),
    balance_amount_1 numeric(15,2),
    balance_amount_2 numeric(15,2),
    balance_amount_3 numeric(15,2),
    balance_amount_4 numeric(15,2),
    balance_amount_5 numeric(15,2),
    balance_amount_6 numeric(15,2),
    balance_amount_7 numeric(15,2),
    balance_amount_8 numeric(15,2),
    balance_amount_9 numeric(15,2),
    balance_amount_10 numeric(15,2),
    balance_amount_11 numeric(15,2),
    balance_amount_12 numeric(15,2),
    balance_amount_13 numeric(15,2),
    account_balance_forward numeric(14,2),
    budget_balance_forward_1 numeric(11,2),
    comparative_balance_forward numeric(11,2),
    form_1099_field  integer,
    budget_amount_2_1 numeric(15,2),
    budget_amount_2_2 numeric(15,2),
    budget_amount_2_3 numeric(15,2),
    budget_amount_2_4 numeric(15,2),
    budget_amount_2_5 numeric(15,2),
    budget_amount_2_6 numeric(15,2),
    budget_amount_2_7 numeric(15,2),
    budget_amount_2_8 numeric(15,2),
    budget_amount_2_9 numeric(15,2),
    budget_amount_2_10 numeric(15,2),
    budget_amount_2_11 numeric(15,2),
    budget_amount_2_12 numeric(15,2),
    budget_amount_2_13 numeric(15,2),
    budget_amount_3_1 numeric(15,2),
    budget_amount_3_2 numeric(15,2),
    budget_amount_3_3 numeric(15,2),
    budget_amount_3_4 numeric(15,2),
    budget_amount_3_5 numeric(15,2),
    budget_amount_3_6 numeric(15,2),
    budget_amount_3_7 numeric(15,2),
    budget_amount_3_8 numeric(15,2),
    budget_amount_3_9 numeric(15,2),
    budget_amount_3_10 numeric(15,2),
    budget_amount_3_11 numeric(15,2),
    budget_amount_3_12 numeric(15,2),
    budget_amount_3_13 numeric(15,2),
    budget_amount_4_1 numeric(15,2),
    budget_amount_4_2 numeric(15,2),
    budget_amount_4_3 numeric(15,2),
    budget_amount_4_4 numeric(15,2),
    budget_amount_4_5 numeric(15,2),
    budget_amount_4_6 numeric(15,2),
    budget_amount_4_7 numeric(15,2),
    budget_amount_4_8 numeric(15,2),
    budget_amount_4_9 numeric(15,2),
    budget_amount_4_10 numeric(15,2),
    budget_amount_4_11 numeric(15,2),
    budget_amount_4_12 numeric(15,2),
    budget_amount_4_13 numeric(15,2),
    budget_amount_5_1 numeric(15,2),
    budget_amount_5_2 numeric(15,2),
    budget_amount_5_3 numeric(15,2),
    budget_amount_5_4 numeric(15,2),
    budget_amount_5_5 numeric(15,2),
    budget_amount_5_6 numeric(15,2),
    budget_amount_5_7 numeric(15,2),
    budget_amount_5_8 numeric(15,2),
    budget_amount_5_9 numeric(15,2),
    budget_amount_5_10 numeric(15,2),
    budget_amount_5_11 numeric(15,2),
    budget_amount_5_12 numeric(15,2),
    budget_amount_5_13 numeric(15,2),
    budget_amount_6_1 numeric(15,2),
    budget_amount_6_2 numeric(15,2),
    budget_amount_6_3 numeric(15,2),
    budget_amount_6_4 numeric(15,2),
    budget_amount_6_5 numeric(15,2),
    budget_amount_6_6 numeric(15,2),
    budget_amount_6_7 numeric(15,2),
    budget_amount_6_8 numeric(15,2),
    budget_amount_6_9 numeric(15,2),
    budget_amount_6_10 numeric(15,2),
    budget_amount_6_11 numeric(15,2),
    budget_amount_6_12 numeric(15,2),
    budget_amount_6_13 numeric(15,2),
    budget_amount_7_1 numeric(15,2),
    budget_amount_7_2 numeric(15,2),
    budget_amount_7_3 numeric(15,2),
    budget_amount_7_4 numeric(15,2),
    budget_amount_7_5 numeric(15,2),
    budget_amount_7_6 numeric(15,2),
    budget_amount_7_7 numeric(15,2),
    budget_amount_7_8 numeric(15,2),
    budget_amount_7_9 numeric(15,2),
    budget_amount_7_10 numeric(15,2),
    budget_amount_7_11 numeric(15,2),
    budget_amount_7_12 numeric(15,2),
    budget_amount_7_13 numeric(15,2),
    budget_amount_8_1 numeric(15,2),
    budget_amount_8_2 numeric(15,2),
    budget_amount_8_3 numeric(15,2),
    budget_amount_8_4 numeric(15,2),
    budget_amount_8_5 numeric(15,2),
    budget_amount_8_6 numeric(15,2),
    budget_amount_8_7 numeric(15,2),
    budget_amount_8_8 numeric(15,2),
    budget_amount_8_9 numeric(15,2),
    budget_amount_8_10 numeric(15,2),
    budget_amount_8_11 numeric(15,2),
    budget_amount_8_12 numeric(15,2),
    budget_amount_8_13 numeric(15,2),
    budget_amount_9_1 numeric(15,2),
    budget_amount_9_2 numeric(15,2),
    budget_amount_9_3 numeric(15,2),
    budget_amount_9_4 numeric(15,2),
    budget_amount_9_5 numeric(15,2),
    budget_amount_9_6 numeric(15,2),
    budget_amount_9_7 numeric(15,2),
    budget_amount_9_8 numeric(15,2),
    budget_amount_9_9 numeric(15,2),
    budget_amount_9_10 numeric(15,2),
    budget_amount_9_11 numeric(15,2),
    budget_amount_9_12 numeric(15,2),
    budget_amount_9_13 numeric(15,2),
    budget_balance_forward_2 numeric(15,2),
    budget_balance_forward_3 numeric(15,2),
    budget_balance_forward_4 numeric(15,2),
    budget_balance_forward_5 numeric(15,2),
    budget_balance_forward_6 numeric(15,2),
    budget_balance_forward_7 numeric(15,2),
    budget_balance_forward_8 numeric(15,2),
    budget_balance_forward_9 numeric(15,2),
    bank_indicator BOOLEAN DEFAULT FALSE                                    NOT NULL,
    bank_number  integer,
    corporate_account_indicator BOOLEAN DEFAULT FALSE                       NOT NULL,
    UNIQUE (company_id, number )
);

CREATE TRIGGER update_account_trg
   BEFORE UPDATE
   ON account
   FOR EACH ROW
EXECUTE PROCEDURE last_updated_column_fn();

